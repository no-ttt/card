<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ËÅñË™ïÂø´Ê®Ç - Á∂ìÂÖ∏ÁøªËìãÂç°Áâá</title>
    <!-- ÂºïÂÖ•ÊâãÂØ´È¢®Ê†ºÂ≠óÈ´î -->
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;700&family=Dancing+Script:wght@700&family=Montserrat:wght@300;400&family=Zhi+Mang+Xing&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-page: #050505;
            --card-cream: #e6d9c3;
            --text-navy: #2c3e50;
            --accent-red: #a32a29;
            --white: #ffffff;
        }

        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: var(--bg-page);
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Montserrat', sans-serif;
            background: radial-gradient(circle at center, #1a1a1a 0%, #000000 100%);
        }

        /* ÁàÜÁÇ∏ÁâπÊïàÂÆπÂô® */
        #explosion-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 100;
        }

        .particle {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            pointer-events: none;
        }

        /* È£ÑÈõ™ËÉåÊôØ */
        #snow-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .snowflake {
            position: absolute;
            background-color: white;
            border-radius: 50%;
            pointer-events: none;
            filter: blur(0.5px);
            box-shadow: 0 0 5px rgba(255, 255, 255, 0.8);
        }

        /* Âç°ÁâáÂÆπÂô®ÔºöÂàùÂßãÈö±Ëóè */
        .card-container {
            width: 350px;
            height: 520px;
            perspective: 2000px;
            cursor: pointer;
            z-index: 10;
            position: relative;
            opacity: 0;
            transform: scale(0.5);
            transition: opacity 1.5s ease, transform 1.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .card-container.visible {
            opacity: 1;
            transform: scale(1);
        }

        .card {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            transform-style: preserve-3d;
            transition: transform 1.2s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 20;
            transform-origin: left center;
        }

        .card.is-open {
            transform: rotateY(-155deg);
        }

        /* Âç°ÁâáÈù¢Ê®£Âºè */
        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 40px 20px;
            box-sizing: border-box;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            border: 1px solid rgba(255,255,255,0.05);
        }

        /* Â∞ÅÈù¢ */
        .card-front {
            background-color: var(--card-cream);
            color: var(--text-navy);
            text-align: center;
            z-index: 2;
        }

        .illustration-box {
            width: 100%;
            height: 280px;
            margin-top: 5px;
            margin-bottom: 25px;
        }

        .illustration-box svg {
            width: 100%;
            height: 100%;
        }

        .text-content {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .main-title {
            font-family: 'Dancing Script', cursive;
            font-size: 3rem;
            margin: 0;
            color: var(--text-navy);
            font-weight: 700;
            transform: rotate(-2deg);
        }

        .sub-title {
            font-family: 'Caveat', cursive;
            font-size: 1.5rem;
            margin: 0;
            font-weight: 400;
            opacity: 0.9;
            color: var(--accent-red);
        }

        .footer-note {
            font-family: 'Caveat', cursive;
            font-size: 1.1rem;
            opacity: 0.8;
            margin-top: auto;
            font-weight: 400;
            letter-spacing: 0.5px;
            color: #555;
        }

        /* ÂÖßÂÅ¥Âõ∫ÂÆöÂ∫ïÈ†ÅÈù¢ */
        .card-base {
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: #ffffff;
            border-radius: 8px;
            z-index: 5;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            padding: 20px;
            box-sizing: border-box;
            background-image: radial-gradient(#eee 1px, transparent 1px);
            background-size: 20px 20px;
        }

        .message-title {
            font-family: 'Zhi Mang Xing', cursive;
            font-size: 2.8rem;
            color: var(--accent-red);
            /* margin-bottom: 20px; */
            transform: rotate(-1deg);
            /* min-height: 1.2em; */
        }

        .message-content {
            font-size: 0.8rem;
            line-height: 1.6;
            color: #333;
            text-align: center;
            transform: rotate(1deg);
            min-height: 6em;
            max-height: 350px;
            overflow-y: auto;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .message-content::-webkit-scrollbar {
            display: none;
        }

        .signature {
            margin-top: 40px;
            font-family: 'Dancing Script', cursive;
            font-size: 2rem;
            color: var(--text-navy);
            align-self: flex-end;
            margin-right: 20px;
            transform: rotate(-5deg);
            opacity: 0;
            transition: opacity 1s ease;
        }

        .card-back {
            background-color: #fcfbf9;
            transform: rotateY(180deg);
            z-index: 1;
            border-right: 1px solid rgba(0,0,0,0.05);
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }
    </style>
</head>
<body>

    <div id="explosion-container"></div>
    <div id="snow-container"></div>

    <div class="card-container" id="cardContainer">
        <!-- Âõ∫ÂÆöÂ∫ïÈù¢Ë®äÊÅØ (ÊâìÂ≠óÊ©üÁõÆÊ®ô) -->
        <div class="card-base">
            <h2 class="message-title" id="type-title"></h2>
            <div class="message-content" id="type-content"></div>
            <div class="signature" id="signature">Best Wishes</div>
        </div>

        <!-- Â∞ÅÈù¢ÈÉ®ÂàÜ -->
        <div class="card" id="cardElement">
            <div class="card-face card-front">
                <div class="illustration-box">
                    <svg viewBox="0 0 240 300" xmlns="http://www.w3.org/2000/svg">
                        <path d="M120 20 L126 35 L142 35 L130 45 L135 60 L120 50 L105 60 L110 45 L98 35 L114 35 Z" fill="#2c3e50" />
                        <path d="M120 65 L145 105 H95 Z" fill="#fff" />
                        <path d="M120 80 L138 105 H102 Z" fill="#f5f5f5" />
                        <path d="M80 120 Q70 120 70 135 L70 155 Q70 170 85 170 H90 L90 150 L80 150 Z" fill="#a32a29" />
                        <rect x="68" y="120" width="22" height="6" rx="1" fill="#fff" />
                        <path d="M150 135 Q150 120 165 120 Q180 120 180 135 L185 160 H145 Z" fill="#fff" opacity="0.9" />
                        <circle cx="165" cy="165" r="3" fill="#2c3e50" />
                        <g stroke="#2c3e50" stroke-width="2.5" stroke-linecap="round">
                            <line x1="55" y1="195" x2="85" y2="180" />
                            <line x1="60" y1="195" x2="55" y2="185" />
                            <line x1="72" y1="188" x2="68" y2="178" />
                        </g>
                        <path d="M155 175 Q180 175 180 195 L180 230" fill="none" stroke="#fff" stroke-width="9" stroke-linecap="round" />
                        <path d="M155 175 Q180 175 180 195 L180 230" fill="none" stroke="#a32a29" stroke-width="9" stroke-dasharray="8,8" stroke-linecap="round" />
                        <rect x="45" y="240" width="38" height="38" fill="#2c3e50" />
                        <rect x="54" y="240" width="3" height="38" fill="#fff" opacity="0.3" />
                        <rect x="71" y="240" width="3" height="38" fill="#fff" opacity="0.3" />
                        <rect x="45" y="258" width="38" height="4" fill="#fff" opacity="0.2" />
                        <path d="M120 225 L138 285 H102 Z" fill="#a32a29" />
                        <circle cx="175" cy="255" r="20" fill="#2c3e50" />
                        <path d="M158 250 H192" stroke="#fff" stroke-width="2" opacity="0.2" />
                        <path d="M155 260 H195" stroke="#fff" stroke-width="2" opacity="0.2" />
                        <g opacity="0.4" fill="#2c3e50">
                            <text x="35" y="95" font-size="10">‚ùÑ</text>
                            <text x="205" y="115" font-size="12">‚ùÑ</text>
                            <circle cx="45" cy="185" r="1.5" />
                            <circle cx="210" cy="225" r="2" />
                        </g>
                    </svg>
                </div>
                
                <div class="text-content">
                    <h1 class="main-title">Merry Christmas</h1>
                    <p class="sub-title">& happy new year</p>
                </div>
                
                <p class="footer-note">Hope all your Christmas dreams come true</p>
            </div>
            <div class="card-face card-back"></div>
        </div>
    </div>

    <script>
        const cardContainer = document.getElementById('cardContainer');
        const cardElement = document.getElementById('cardElement');
        const typeTitle = document.getElementById('type-title');
        const typeContent = document.getElementById('type-content');
        const signature = document.getElementById('signature');
        const explosionContainer = document.getElementById('explosion-container');
        
        const titleText = "";
        const messageText = `
            Â∞èÊ®∫ÔºÅ‰ªäÂπ¥ÁúüÁöÑÊòØÊàëÊúÄÈñãÂøÉÁöÑ‰∏ÄÂπ¥‰∫ÜÔºåÂæàÈñãÂøÉÈÅáÂà∞‰Ω† Ë∑ü‰Ω†Â∫¶ÈÅéÂæàÂ§öÊôÇÂàª ‰∏ÄËµ∑Âá∫ÂéªÁé©‰πüË™™Â•Ω‰∫ÜÊú™‰æÜ
            ÊØèÊ¨°ÊàëË™™‰Ω†ÊòØ‰∏ñÁïå‰∏äÂ∞çÊàëÊúÄÂ•ΩÁöÑ‰∫∫ÔºåÈÉΩÊòØË™™ÁúüÁöÑ üò†
            ÊàëÂÄëÈÉΩÊòØ‰∏çË¢´ÁñºÁöÑÂ∞èÂ≠©ÔºåÊâÄ‰ª•ÈÉΩÁâπÂà•ÁèçÊÉúÈÇÑÊúâÂÆ≥ÊÄïÂ§±Âéª
            ‰ΩÜÊòØÊàëÊÉ≥Ë∑ü‰Ω†Ë™™ÔºÅÊàëÊúÉ‰∏ÄÁõ¥ÈÉΩÂú® Âè™Ë¶Å‰Ω†‰∏çË¶ÅÂ´åÊ£Ñ ‚ú®
            ÈõñÁÑ∂ÊàëÂÄëÂæàÂ∏∏ÂêµÊû∂ÔºåÂêµÊû∂ÁöÑÊôÇÂÄô‰πüÈÉΩÊúÉË¨õÈõ£ËÅΩÁöÑË©±
            ÂèØÊòØÊàëË¶∫ÂæóÈÄô‰∫õÈÉΩÂè™ÊòØÁ£®ÂêàÔºåÂè™Ë¶ÅÂêµÂÆåÊàëÂÄëÈÇÑÊòØÂæàÊÑõÂ∞çÊñπÁèçÊÉúÂ∞çÊñπÂ∞±Â•Ω‰∫ÜÔºÅ
            ÊâÄ‰ª•‰Ω†‰πü‰∏çË¶ÅÂÆ≥ÊÄïÂêµÊû∂ÊàëÂÄëÊúÉÂàÜÈñãÔºå
            Âè™Ë¶Å‰Ω†Âú® ÊàëÂ∞±‰∏çÊúÉÈõ¢Èñã„Ñâ
            Â∏åÊúõÊòéÂπ¥„ÄÅÂæåÂπ¥„ÄÅÂæàÂ§öÂπ¥ÊàëÂÄëÈÉΩËÉΩ‰∏ÄËµ∑ÈÅéËÅñË™ïÁØÄ ‰∏ÄËµ∑ÈÅéÊñ∞Âπ¥ ‰∏ÄËµ∑ÈÅéÂæàÂ§öÂæàÂ§öÁØÄÊó•
            ‰ª•ÂæåÈÇÑÊúâÊ£âËä±Á≥ñË∑üÂ§©È¶ô‰∏â ÊàëÁúüÁöÑË∂ÖÁ¥öÊúüÂæÖÊú™‰æÜ üî•
            Êúâ‰Ω†ÁöÑÊú™‰æÜÂô¢
            Á•ùÂ∞èÊ®∫ËÅñË™ïÂø´Ê®Ç Êñ∞Âπ¥Âø´Ê®Ç Â§©Â§©Âø´Ê®Ç ‚ù§Ô∏è
        `;
        
        let isOpen = false;
        let isLocked = false;

        // ÂàùÂßãËºâÂÖ•ÔºöÂü∑Ë°åÁàÜÁÇ∏‰∏¶È°ØÁ§∫Âç°Áâá
        window.onload = () => {
            triggerExplosion();
            setTimeout(() => {
                cardContainer.classList.add('visible');
            }, 800);
        };

        function triggerExplosion() {
            const particleCount = 60;
            const colors = ['#ffd700', '#ff4d4d', '#ffffff', '#2ecc71', '#3498db'];

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                const color = colors[Math.floor(Math.random() * colors.length)];
                particle.style.backgroundColor = color;
                particle.style.boxShadow = `0 0 10px ${color}`;
                
                explosionContainer.appendChild(particle);

                const angle = Math.random() * Math.PI * 2;
                const velocity = 5 + Math.random() * 10;
                const tx = Math.cos(angle) * velocity * 20;
                const ty = Math.sin(angle) * velocity * 20;

                particle.animate([
                    { transform: 'translate(-50%, -50%) scale(1)', opacity: 1 },
                    { transform: `translate(calc(-50% + ${tx}px), calc(-50% + ${ty}px)) scale(0)`, opacity: 0 }
                ], {
                    duration: 1000 + Math.random() * 1000,
                    easing: 'cubic-bezier(0, .9, .57, 1)',
                    fill: 'forwards'
                }).onfinish = () => particle.remove();
            }
        }

        cardContainer.addEventListener('click', () => {
            if (isLocked) return;
            isOpen = !isOpen;
            if (isOpen) {
                isLocked = true;
                cardElement.classList.add('is-open');
                setTimeout(startTyping, 600);
            } else {
                cardElement.classList.remove('is-open');
                resetTyping();
            }
        });

        function startTyping() {
            if (!isOpen) return;
            typeTitle.innerHTML = "";
            typeContent.innerHTML = "";
            signature.style.opacity = "0";

            let i = 0;
            function typeT() {
                if (i < titleText.length) {
                    typeTitle.innerHTML += titleText.charAt(i);
                    i++;
                    setTimeout(typeT, 150);
                } else {
                    i = 0;
                    setTimeout(typeC, 300);
                }
            }

            function typeC() {
                if (i < messageText.length) {
                    let char = messageText.charAt(i);
                    if (char === "\n") {
                        typeContent.innerHTML += "<br>";
                    } else {
                        typeContent.innerHTML += char;
                    }
                    i++;
                    setTimeout(typeC, 80);
                } else {
                    signature.style.opacity = "1";
                }
            }
            typeT();
        }

        function resetTyping() {
            typeTitle.innerHTML = "";
            typeContent.innerHTML = "";
            signature.style.opacity = "0";
        }

        function createSnowflake() {
            const snow = document.createElement('div');
            snow.className = 'snowflake';
            const size = Math.random() * 4 + 2;
            const startX = Math.random() * window.innerWidth;
            const duration = Math.random() * 6 + 4;
            snow.style.width = `${size}px`;
            snow.style.height = `${size}px`;
            snow.style.left = `${startX}px`;
            snow.style.top = `-10px`;
            snow.style.opacity = Math.random() * 0.8 + 0.2;
            document.getElementById('snow-container').appendChild(snow);
            snow.animate([
                { transform: `translateY(0) translateX(0)` },
                { transform: `translateY(${window.innerHeight + 20}px) translateX(${(Math.random() - 0.5) * 80}px)` }
            ], {
                duration: duration * 1000,
                easing: 'linear'
            }).onfinish = () => snow.remove();
        }

        setInterval(createSnowflake, 150);
        for(let i=0; i<40; i++) setTimeout(createSnowflake, Math.random()*4000);
    </script>
</body>
</html>